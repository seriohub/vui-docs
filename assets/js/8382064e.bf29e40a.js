"use strict";(self.webpackChunkvelero_docs=self.webpackChunkvelero_docs||[]).push([[745],{3227:(e,d,t)=>{t.r(d),t.d(d,{assets:()=>l,contentTitle:()=>r,default:()=>o,frontMatter:()=>s,metadata:()=>c,toc:()=>h});var i=t(4848),n=t(8453);const s={sidebar_label:"API",sidebar_position:1,description:"API Configuration"},r="API",c={id:"getting-started/configuration/velero-api",title:"API",description:"API Configuration",source:"@site/docs/10-getting-started/03-configuration/01-velero-api.md",sourceDirName:"10-getting-started/03-configuration",slug:"/getting-started/configuration/velero-api",permalink:"/docs/getting-started/configuration/velero-api",draft:!1,unlisted:!1,editUrl:"https://github.com/seriohub/velero-docs/blob/main/docs/10-getting-started/03-configuration/01-velero-api.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"API",sidebar_position:1,description:"API Configuration"},sidebar:"tutorialSidebar",previous:{title:"Configuration",permalink:"/docs/category/configuration"},next:{title:"UI",permalink:"/docs/getting-started/configuration/velero-ui"}},l={},h=[{value:"Configuration",id:"configuration",level:2},{value:"Swagger UI",id:"swagger-ui",level:2}];function x(e){const d={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.h1,{id:"api",children:"API"}),"\n",(0,i.jsx)(d.p,{children:"Below are the configurable environment parameters for the API."}),"\n",(0,i.jsxs)(d.ul,{children:["\n",(0,i.jsxs)(d.li,{children:[(0,i.jsx)(d.strong,{children:"FIELD"})," is the name of the environment variable to be configured within the ",(0,i.jsx)(d.em,{children:"velero-api-config"})," ConfigMap."]}),"\n",(0,i.jsxs)(d.li,{children:[(0,i.jsx)(d.strong,{children:"Helm KEY"})," is the related key defined in the Helm chart."]}),"\n"]}),"\n",(0,i.jsx)(d.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)("div",{class:"table-container",children:(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"FIELD"}),(0,i.jsx)(d.th,{children:"HELM KEY"}),(0,i.jsx)(d.th,{children:"TYPE"}),(0,i.jsx)(d.th,{children:"DEFAULT"}),(0,i.jsx)(d.th,{children:"DESCRIPTION"})]})}),(0,i.jsxs)(d.tbody,{children:[(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"API_ENABLE_DOCUMENTATION"}),(0,i.jsx)(d.td,{children:"apiConfig.apiEnableDocumentation"}),(0,i.jsx)(d.td,{children:"Bool"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"True"})}),(0,i.jsx)(d.td,{children:"Enabled/Disabled the fastapi documentation user interfaces"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"API_ENDPOINT_PORT"}),(0,i.jsx)(d.td,{children:"apiConfig.apiEndpointPort"}),(0,i.jsx)(d.td,{children:"Int"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"8001"})}),(0,i.jsx)(d.td,{children:"Socket bind port"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"API_ENDPOINT_URL"}),(0,i.jsx)(d.td,{children:"apiConfig.apiEndpointUrl"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"0.0.0.0"})}),(0,i.jsx)(d.td,{children:"Socket bind host"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"API_RATE_LIMITER_CUSTOM_L1 (4)"}),(0,i.jsx)(d.td,{children:"apiConfig.apiRateLimiterCustom1"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"Security:xxx:60:20"})}),(0,i.jsx)(d.td,{children:"Rate limiter for specific tag/endpoint: Security (tag) xxx (all endpoints under the tag) 60 seconds  max requests 20"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"API_RATE_LIMITER_CUSTOM_L2 (4)"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"Info:info:60:500"})}),(0,i.jsx)(d.td,{children:"Rate limiter for specific tag/endpoint: Info (tag) xxx (all endpoints under the tag) 60 seconds  max requests 500"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"API_RATE_LIMITER_L1"}),(0,i.jsx)(d.td,{children:"apiConfig.apiRateLimiterL1"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"60:120"})}),(0,i.jsx)(d.td,{children:"Rate limiter: 60 seconds  max requests 10"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"API_TOKEN_EXPIRATION_MIN"}),(0,i.jsx)(d.td,{children:"apiConfig.apiTokenExpirationMin"}),(0,i.jsx)(d.td,{children:"Int"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"30"})}),(0,i.jsx)(d.td,{children:"Token validity after the creation (minutes)"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"API_TOKEN_REFRESH_EXPIRATION_DAYS"}),(0,i.jsx)(d.td,{children:"apiConfig.apiTokenRefreshExpirationDays"}),(0,i.jsx)(d.td,{children:"Int"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"7"})}),(0,i.jsx)(d.td,{children:"Token validity after the creation (days)"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"AWS_ACCESS_KEY_ID"}),(0,i.jsx)(d.td,{children:"apiConfig.awsAccessKeyId"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:"AWS_ACCESS_KEY_ID"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"AWS_SECRET_ACCESS_KEY"}),(0,i.jsx)(d.td,{children:"apiConfig.awsSecretAccessKey"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:"AWS_SECRET_ACCESS_KEY"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"CONTAINER_MODE"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:"Bool"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"False"})}),(0,i.jsx)(d.td,{children:"Enabled in is deployed in a container outside k8s cluster"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"DEBUG_LEVEL"}),(0,i.jsx)(d.td,{children:"apiConfig.debugLevel"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"info"})}),(0,i.jsx)(d.td,{children:"Print level  (Critical, error, warning, info, debug)"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"DEFAULT_ADMIN_USERNAME"}),(0,i.jsx)(d.td,{children:"apiConfig.defaultAdminPassword"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"admin"})}),(0,i.jsx)(d.td,{children:"Default username for admin user (will be created if does not already exist)"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"DEFAULT_ADMIN_PASSWORD"}),(0,i.jsx)(d.td,{children:"apiConfig.defaultAdminUsername"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"admin"})}),(0,i.jsx)(d.td,{children:"Default password for admin user (will be created if does not already exist)"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"DOWNLOAD_TMP_FOLDER"}),(0,i.jsx)(d.td,{children:"apiConfig.downloadTmpFolder"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"/tmp/velero-api"})}),(0,i.jsxs)(d.td,{children:["Destination folder when executing ",(0,i.jsx)(d.em,{children:"velero backup download"})]})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"K8S_IN_CLUSTER_MODE"}),(0,i.jsx)(d.td,{children:"apiConfig.k8SInClusterMode"}),(0,i.jsx)(d.td,{children:"Bool"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"False"})}),(0,i.jsx)(d.td,{children:"Enabled if is deployed in a cluster"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"K8S_VELERO_NAMESPACE"}),(0,i.jsx)(d.td,{children:"global.veleroNamespace"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"velero"})}),(0,i.jsx)(d.td,{children:"K8s Velero namespace"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"K8S_VELERO_UI_NAMESPACE"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"velero-ui"})}),(0,i.jsx)(d.td,{children:"K8s Velero namespace"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_ENABLE"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"false"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_ENDPOINT_URL"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"127.0.0.1"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_PORT_CLIENT"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"4222"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_USERNAME"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"user"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_PASSWORD"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"password"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_ALIVE_SEC"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"60"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_REQUEST_TIMEOUT_SEC"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"2"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_RETRY_REG_SEC"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"30"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_RETRY_CONN_SEC"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"20"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_PORT_MONITORING"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"30"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_CRON_UPDATE_K8S_HEALTH"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"300"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_CRON_UPDATE_STATS_GET"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"300"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_CRON_UPDATE_BACKUP"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"300"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_CRON_UPDATE_RESTORE"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"300"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_CRON_UPDATE_BACKUP_LOCATION"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"300"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_CRON_UPDATE_STORAGE_LOCATION"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"300"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_CRON_UPDATE_REPOSITORIES"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"300"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"NATS_CRON_UPDATE_SC_MAPPING"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"300"})}),(0,i.jsx)(d.td,{})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"ORIGINS_1 (1)"}),(0,i.jsx)(d.td,{children:"apiConfig.origins1"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"http://localhost:3000"})}),(0,i.jsx)(d.td,{children:"Allowed origin"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"ORIGINS_2 (1)"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"http://127.0.0.1:3000"})}),(0,i.jsx)(d.td,{children:"Allowed origin"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"ORIGINS_3 (1)"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"*"})}),(0,i.jsx)(d.td,{children:"Allowed origin"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"SECURITY_DISABLE_USERS_PWD_RATE"}),(0,i.jsx)(d.td,{children:"apiConfig.securityDisableUsersPwdRate"}),(0,i.jsx)(d.td,{children:"Bool"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"False"})}),(0,i.jsx)(d.td,{children:"If True user can have a weak password, otherwise is required a strong password"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"SECURITY_PATH_DATABASE"}),(0,i.jsx)(d.td,{children:"apiConfig.securityPathDatabase"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"./test"})}),(0,i.jsx)(d.td,{children:"Path where create the SQL-Lite database used for storing the users credentials"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"SECURITY_REFRESH_TOKEN_KEY (3)"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:"Optional: Secret key used for JWT creation (refresh token mechanism)"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"SECURITY_TOKEN_KEY (3)"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{}),(0,i.jsx)(d.td,{children:"Optional: Secret key used for JWT creation"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"VELERO_CLI_DEST_PATH"}),(0,i.jsx)(d.td,{children:"apiConfig.veleroCliDestPath"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"/usr/local/bin"})}),(0,i.jsx)(d.td,{children:"Path where to extract the velero executable file"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"VELERO_CLI_PATH"}),(0,i.jsx)(d.td,{children:"apiConfig.veleroCliPath"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"/app/velero-client"})}),(0,i.jsx)(d.td,{children:"Path where the compressed velero client archives are located"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"VELERO_CLI_PATH_CUSTOM"}),(0,i.jsx)(d.td,{children:"apiConfig.veleroCliPathCustom"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"/app/velero-client-binary"})}),(0,i.jsx)(d.td,{children:"Path where the user can store manually the binary file"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"VELERO_CLI_VERSION (2)"}),(0,i.jsx)(d.td,{children:"apiConfig.veleroCliVersion"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"latest available in velero-api-image"})}),(0,i.jsx)(d.td,{children:"Name of the velero client release to be used"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"RESTIC_PASSWORD"}),(0,i.jsx)(d.td,{children:"apiConfig.resticPassword"}),(0,i.jsx)(d.td,{children:"String"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"static-passw0rd"})}),(0,i.jsx)(d.td,{})]})]})]})}),"\n",(0,i.jsxs)(d.ol,{children:["\n",(0,i.jsxs)(d.li,{children:["\n",(0,i.jsx)(d.p,{children:"You can define up to 100 allowed origins that should be permitted to make cross-origin requests. An origin is the combination of protocol (http, https), domain (myapp.com, localhost) and port (80, 443, 8001)"}),"\n"]}),"\n",(0,i.jsxs)(d.li,{children:["\n",(0,i.jsxs)(d.p,{children:["The Velero client is downloaded when the pod is started according to the environment variable ",(0,i.jsx)(d.strong,{children:"VELERO_CLI_VERSION"}),". Set ",(0,i.jsx)(d.strong,{children:"VELERO_CLI_VERSION"})," as the following syntax example: ",(0,i.jsx)(d.code,{children:"v1.12.2"})]}),"\n",(0,i.jsx)(d.admonition,{type:"info",children:(0,i.jsx)(d.p,{children:"In the event of a connection problem, the version 1.12.1 contained within the Velero API image will be utilized."})}),"\n"]}),"\n",(0,i.jsxs)(d.li,{children:["\n",(0,i.jsx)(d.p,{children:"To generate a fixed secure random secret key use the command:"}),"\n",(0,i.jsx)(d.pre,{children:(0,i.jsx)(d.code,{className:"language-bash",children:"openssl rand -hex 32\n"})}),"\n",(0,i.jsx)(d.admonition,{type:"info",children:(0,i.jsx)(d.p,{children:"If no secret key is provided, the system regenerates new missed keys itself each time it is restarted."})}),"\n"]}),"\n",(0,i.jsxs)(d.li,{children:["\n",(0,i.jsxs)(d.p,{children:["You can define up to 100 custom rate limiters (from the key ",(0,i.jsx)(d.strong,{children:"API_RATE_LIMITER_CUSTOM_L1"})," to ",(0,i.jsx)(d.strong,{children:"API_RATE_LIMITER_CUSTOM_L99"}),"). Rules can be designed for a tag (eg Security, Info, Backup, Schedule, etc) or for a specific endpoint (eg backup/update-expitaration, utils/version, etc)."]}),"\n",(0,i.jsx)(d.admonition,{type:"warning",children:(0,i.jsxs)(d.p,{children:["Replace the characters \\ - "," in endpoint urls with the _"]})}),"\n",(0,i.jsx)(d.p,{children:"The description field of each endpoint describes the key to configure the customized rate limiter and the actual setup."}),"\n",(0,i.jsxs)(d.p,{children:['Example : if we want to create a rule for the specific endpoint "/backup/get-storage-classes" (tag: Backup) it will be:\nBackup:backup_get_storage_classes:60:600\nThe default rate limiter is defined by the key ',(0,i.jsx)(d.strong,{children:"API_RATE_LIMITER_L1"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(d.h2,{id:"swagger-ui",children:"Swagger UI"}),"\n",(0,i.jsxs)(d.admonition,{type:"tip",children:[(0,i.jsx)(d.p,{children:"To find out all the endpoints exposed by the API project, you can use the Swagger UI documentation"}),(0,i.jsx)(d.pre,{children:(0,i.jsx)(d.code,{className:"language-code",children:"< API IP address >/api/docs\n"})})]}),"\n",(0,i.jsxs)(d.p,{children:["If you disable the api documentation (",(0,i.jsx)(d.strong,{children:"API_ENABLE_DOCUMENTATION"})," key), you are not able to reach the endpoint /docs."]})]})}function o(e={}){const{wrapper:d}={...(0,n.R)(),...e.components};return d?(0,i.jsx)(d,{...e,children:(0,i.jsx)(x,{...e})}):x(e)}},8453:(e,d,t)=>{t.d(d,{R:()=>r,x:()=>c});var i=t(6540);const n={},s=i.createContext(n);function r(e){const d=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(d):{...d,...e}}),[d,e])}function c(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),i.createElement(s.Provider,{value:d},e.children)}}}]);